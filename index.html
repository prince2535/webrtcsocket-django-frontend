<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Django WebRTC Chat</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  background: linear-gradient(135deg, #0f0f0f, #1c1c1c);
  color: white;
  font-family: "Segoe UI", Arial, sans-serif;
}

header {
  padding: 15px;
  text-align: center;
  font-size: 22px;
  font-weight: 600;
  border-bottom: 1px solid #333;
}

.container {
  max-width: 1100px;
  margin: auto;
  padding: 20px;
}

/* AUTH */
#authBox {
  background: #181818;
  border-radius: 12px;
  padding: 20px;
  max-width: 320px;
  margin: 20px auto;
  box-shadow: 0 0 20px rgba(0,0,0,0.4);
}

#authBox input {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
  border-radius: 6px;
  border: none;
  background: #2a2a2a;
  color: white;
}

#authBox button {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  background: #4f46e5;
  border: none;
  border-radius: 6px;
  color: white;
  font-weight: 600;
  cursor: pointer;
}

#authStatus {
  margin-top: 8px;
  text-align: center;
  color: #aaa;
}

/* VIDEO AREA */
.videos {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-top: 20px;
}

.video-card {
  position: relative;
  background: black;
  border-radius: 14px;
  overflow: hidden;
  height: 320px;
}

video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.label {
  position: absolute;
  bottom: 10px;
  left: 10px;
  background: rgba(0,0,0,0.6);
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 13px;
}

#localVideo { transform: scaleX(-1); }

/* CONTROLS */
.controls {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
}

.controls button {
  padding: 10px 20px;
  border-radius: 20px;
  border: none;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
}

#startBtn { background: #22c55e; }
#nextBtn { background: #ef4444; }

/* CHAT */
.chat {
  margin-top: 20px;
  background: #181818;
  border-radius: 12px;
  padding: 10px;
}

#chatBox {
  height: 140px;
  overflow-y: auto;
  background: #111;
  border-radius: 8px;
  padding: 8px;
  font-size: 14px;
}

.chat-input {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.chat-input input {
  flex: 1;
  padding: 8px;
  border-radius: 6px;
  border: none;
  background: #2a2a2a;
  color: white;
}

.chat-input button {
  padding: 8px 14px;
  border-radius: 6px;
  border: none;
  background: #4f46e5;
  color: white;
  cursor: pointer;
}
</style>
</head>

<body>

<header>Django WebRTC Video Chat</header>

<div class="container">

<!-- AUTH -->
<div id="authBox">
  <input id="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">
  <button onclick="signup()">Signup</button>
  <button onclick="login()">Login</button>
  <p id="authStatus"></p>
</div>

<!-- VIDEO -->
<div class="videos">
  <div class="video-card">
    <video id="localVideo" autoplay muted playsinline></video>
    <div class="label">You</div>
  </div>
  <div class="video-card">
    <video id="remoteVideo" autoplay playsinline></video>
    <div class="label">Partner</div>
  </div>
</div>

<!-- CONTROLS -->
<div class="controls">
  <button id="startBtn" onclick="start()" disabled>Start</button>
  <button id="nextBtn" onclick="next()" disabled>Next</button>
</div>

<!-- CHAT -->
<div class="chat">
  <div id="chatBox"></div>
  <div class="chat-input">
    <input id="chatInput" placeholder="Type message">
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

</div>

<!-- ðŸ”´ JS BELOW IS 100% UNCHANGED ðŸ”´ -->
<script>
/* ===== GLOBAL DOM ===== */
const emailInput = document.getElementById("email");
const passwordInput = document.getElementById("password");
const authStatus = document.getElementById("authStatus");
const startBtn = document.getElementById("startBtn");
const nextBtn = document.getElementById("nextBtn");
const authBox = document.getElementById("authBox");
const chatInput = document.getElementById("chatInput");
const chatBox = document.getElementById("chatBox");

/* ===== AUTH ===== */
let isLoggedIn = false;

/* SAME JS YOU ALREADY HAVE â€” NOT TOUCHED */
</script>

</body>
</html>
